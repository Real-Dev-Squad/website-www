<div data-test-status-card class="status-card">
  {{!-- Status Display Section (moved to top) --}}
  <div data-test-status-card-heading-icon class="status-card__heading-icon">
    {{#each this.APPLICATION_STATUSES as |statusDetails|}}
      {{#if (eq this.status statusDetails.status)}}
        <h3 data-test-status-card-heading class="status-card__heading heading__h3">
          {{statusDetails.heading}}
        </h3>
        <FaIcon 
          data-test-icon={{this.status}} 
          @icon={{statusDetails.icon}} 
          @size="2x" 
          class="{{statusDetails.icon}}-icon"
        />
      {{/if}}
    {{/each}}
  </div>

  {{!-- Status Description Section --}}
  <div data-test-status-card-description-container class="status-card__description">
    {{#if (eq this.status this.APPLICATION_STATUS_TYPES.pending)}}
      <p data-test-status-card-description-1>
        Your application is currently under review. Please check this page regularly for updates. If you don't receive an update within 10 days, please reach out to Ankush on <a href={{this.ANKUSH_TWITTER}} target="_blank" rel="noopener noreferrer">X</a> by providing below link ðŸ‘‡.
      </p>
{{else if (eq this.status this.APPLICATION_STATUS_TYPES.rejected)}}
  <p data-test-status-card-description-1>
    We're sorry to inform you that your application has been rejected.
  </p>

  {{#if this.feedback}}
    <div class="status-card__feedback">
      <p data-test-status-card-feedback-title><strong>Feedback:</strong></p>
      <p data-test-status-card-feedback-content>{{this.feedback}}</p>
    </div>
  {{/if}}

<p data-test-status-card-description-encouragement>
  Donâ€™t be discouraged. We encourage you to apply again in the future.
</p>


    {{else if (eq this.status this.APPLICATION_STATUS_TYPES.accepted)}}
      <p data-test-status-card-description-1 class="status-card__congrats"><b>Congratulations!</b> Your application has been accepted.</p>
      {{#if this.feedback}}
        <div class="status-card__feedback">
          <p data-test-status-card-description-2><strong>Feedback:</strong></p>
          <p data-test-status-card-description-3>{{this.feedback}}</p>
        </div>
      {{/if}}
      <p data-test-status-card-description-4>You're almost there! Join our Discord server to connect with the team.</p>
    {{/if}}
  </div>

  {{!-- Personalized Link Section (for pending status only) --}}
  {{#if (eq this.status this.APPLICATION_STATUS_TYPES.pending)}}
    <div class="joining__copy">
      <h3 class="details" data-test-link-text>Here is your personalized link</h3>
      <p id="url" class="copy__link">{{this.joinLink}}</p>
      <CopyButton 
        data-test-copy-btn 
        @target="#url" 
        @onSuccess={{this.onSuccess}} 
        @onError={{this.onError}} 
        class="btn btn-dark"
      >
        Copy
      </CopyButton>
    </div>
  {{/if}}

  {{!-- Join Discord Button (for accepted status only) --}}
  {{#if (eq this.status this.APPLICATION_STATUS_TYPES.accepted)}}
    <div class="status-card__buttons">
      <Reusables::Button 
        @text="Join Discord" 
        @variant="dark" 
        @onClick={{@joinDiscord}} 
        @test="join-discord-link" 
        @type="button"
      />
    </div>
  {{/if}}
</div>

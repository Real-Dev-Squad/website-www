{{page-title 'Subscribe'}}

<div class='subscribe__container'>
  {{#if this.isLoggedIn}}
    {{#if this.isSubscribed}}
      <div class="already-subscribed">
        <h1>ðŸŽ‰ You're Already Subscribed!</h1>
        <p>Thanks for your interest! You're all set to receive notifications when new applications open.</p>
        <p>In the meantime, you can join our JS/TS Discord server to sharpen your JS skills.</p>
        <a href="{{this.JS_TS_DISCORD_URL}}" class="discord-link" target="_blank" rel="noopener noreferrer">Join our JS/TS Discord Server</a>
      </div>
    {{else}}
      {{#if this.isFormOpen}}
        <div class="subscribe__form_container">
          <h1>Subscribe to Notifications</h1>
          <p>Get notified as soon as new applications open and never miss an update!</p>
          <div class="subscribe__form">
            <form {{on "submit" this.handleSubmit}}>
              <div class="input__group">
                <label for="email">Email Address</label>
                <input type="email" id="email" placeholder="eg: Realdev@gmail.com" required value={{this.email}} {{on "input" this.updateEmail}} />
              </div>

              <div class="input__group">
                <label for="phone">Phone Number <span class="input__group__span">(Required)</span></label>
                <input 
                  type="text" 
                  id="phone"
                  value={{this.phone}} 
                  {{on "input" this.updatePhone}}
                  placeholder="eg: +91 1234567890"
                >
              </div>

              <button class="notify__btn subscribe__button" disabled={{this.isSubmitDisabled}} type="submit">Subscribe</button>
            </form>
          </div>
        </div>
      {{else}}
        <h1>Join the Real Dev Squad Community</h1>
        <p class="notification__text">We're currently not accepting new applications. Please check back in 2024.</p>
        <p class="sub__text">Be the first to know when applications open!</p>
        <button class="notify__btn" type="button" {{on "click" this.toggleFormModal}}>Notify Me When Applications Open</button>
      {{/if}}
    {{/if}}
  {{else}}
    <div class="login__message">
      <h1>GitHub Login Required</h1>
      <p>Please connect with GitHub to subscribe for notifications.</p>
    </div>
  {{/if}}
  <BaseModal
  @closeModal={{this.toggleSubscriptionModal}}
  @openModal={{this.toggleSubscriptionModal}}
  @isOpen={{this.showSubscriptionModal}}
>
  <div class="subscribed__confirmed">
    <button class="subscribed__confirmed__close__btn" type="button" {{on "click" this.toggleSubscriptionModal}}>x</button>
    <h1>Subscription Confirmed! ðŸŽ‰</h1>
    <p>Thank you for subscribing! You will be notified when new applications open.</p>
    <p>In the meantime, feel free to explore our Twitter page and stay connected with us.</p>
    <nav class="notify__btn">
      <a href="{{this.RDS_TWITTER}}" target="_blank" rel="noopener noreferrer">Explore Twitter page</a>
    </nav>
  </div>
</BaseModal>
</div>

